Hereâ€™s the code comparison formatted into an Obsidian markdown table:


| n   | Original Code                                                                                                   | Modified Code                                                                                                  |
| --- | --------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| 1   | `package mapreduce`                                                                                             | `package mapreduce`                                                                                            |
| 2   |                                                                                                                 |                                                                                                                |
| 3   | `import (`                                                                                                      | `import (`                                                                                                     |
| 4   | &nbsp;&nbsp;&nbsp;&nbsp;`"container/list"`                                                                     | &nbsp;&nbsp;&nbsp;&nbsp;`"container/list"`                                                                    |
| 5   | &nbsp;&nbsp;&nbsp;&nbsp;`"fmt"`                                                                                | &nbsp;&nbsp;&nbsp;&nbsp;`"fmt"`                                                                               |
| 6   | `)`                                                                                                            | `)`                                                                                                            |
| 7   |                                                                                                                 |                                                                                                                |
| 8   | `type WorkerInfo struct {`                                                                                      | `type WorkerInfo struct {`                                                                                     |
| 9   | &nbsp;&nbsp;&nbsp;&nbsp;`address string`                                                                       | &nbsp;&nbsp;&nbsp;&nbsp;`address string`                                                                      |
| 10  | &nbsp;&nbsp;&nbsp;&nbsp;`// You can add definitions here.`                                                     | &nbsp;&nbsp;&nbsp;&nbsp;`// You can add definitions here.`                                                    |
| 11  | `}`                                                                                                            | `}`                                                                                                            |
| 12  |                                                                                                                 |                                                                                                                |
| 13  | `// Clean up all workers by sending a Shutdown RPC to each one of them Collect`                                 | `// Clean up all workers by sending a Shutdown RPC to each one of them Collect`                                |
| 14  | `// the number of jobs each work has performed.`                                                               | `// the number of jobs each work has performed.`                                                              |
| 15  | `func (mr *MapReduce) KillWorkers() *list.List {`                                                              | `func (mr *MapReduce) KillWorkers() *list.List {`                                                             |
| 16  | &nbsp;&nbsp;&nbsp;&nbsp;`l := list.New()`                                                                      | &nbsp;&nbsp;&nbsp;&nbsp;`l := list.New()`                                                                     |
| 17  | &nbsp;&nbsp;&nbsp;&nbsp;`for _, w := range mr.Workers {`                                                       | &nbsp;&nbsp;&nbsp;&nbsp;`for _, w := range mr.Workers {`                                                      |
| 18  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`DPrintf("DoWork: shutdown %s\n", w.address)`                  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`DPrintf("DoWork: shutdown %s\n", w.address)`                 |
| 19  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`args := &ShutdownArgs{}`                                      | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`args := &ShutdownArgs{}`                                     |
| 20  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`var reply ShutdownReply`                                      | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`var reply ShutdownReply`                                     |
| 21  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`ok := call(w.address, "Worker.Shutdown", args, &reply)`       | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`ok := call(w.address, "Worker.Shutdown", args, &reply)`      |
| 22  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`if !ok {`                                                     | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`if !ok {`                                                    |
| 23  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`fmt.Printf("DoWork: RPC %s shutdown error\n", w.address)` | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`fmt.Printf("DoWork: RPC %s shutdown error\n", w.address)` |
| 24  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`} else {`                                                     | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`} else {`                                                    |
| 25  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`l.PushBack(reply.Njobs)`              | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`l.PushBack(reply.Njobs)`             |
| 26  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`}`                                                            | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`}`                                                           |
| 27  | &nbsp;&nbsp;&nbsp;&nbsp;`}`                                                                                    | &nbsp;&nbsp;&nbsp;&nbsp;`}`                                                                                   |
| 28  | &nbsp;&nbsp;&nbsp;&nbsp;`return l`                                                                             | &nbsp;&nbsp;&nbsp;&nbsp;`return l`                                                                            |
| 29  | `}`                                                                                                            | `}`                                                                                                            |
| 30  |                                                                                                                 |                                                                                                                |
| 31  | `func (mr *MapReduce) RunMaster() *list.List {`                                                                | `func (mr *MapReduce) RunMaster() *list.List {`                                                               |
| 32  | &nbsp;&nbsp;&nbsp;&nbsp;`fmt.Printf("nMap: %v\nnReduce: %v\nfile: %q\n", mr.nMap, mr.nReduce, mr.file)`        | &nbsp;&nbsp;&nbsp;&nbsp;`fmt.Printf("nMap: %v\nnReduce: %v\nfile: %q\n", mr.nMap, mr.nReduce, mr.file)`       |
| 33  |                                                                                                                 |                                                                                                                |
| 34  | `// Create channels to manage job completion and worker assignment`                                            | `// Create channels to manage worker assignment`                                                              |
| 35  | `//jobDone := make(chan bool)`                                                                                 |                                                                                                                |
| 36  | &nbsp;&nbsp;&nbsp;&nbsp;`workerChannel := mr.registerChannel`                                                  | &nbsp;&nbsp;&nbsp;&nbsp;`workerChannel := mr.registerChannel`                                                 |
| 37  |                                                                                                                 |                                                                                                                |
| 38  | `// Function to assign a job to a worker`                                                                      | `// Function to assign a job to a worker`                                                                     |
| 39  | &nbsp;&nbsp;&nbsp;&nbsp;`assignJob := func(worker string, jobType JobType, jobNumber int, numOtherPhase int, file string) {` | &nbsp;&nbsp;&nbsp;&nbsp;`assignJob := func(worker string, jobType JobType, jobNumber int, numOtherPhase int, file string) {` |
| 40  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`args := DoJobArgs{`                                           | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`args := DoJobArgs{`                                          |
| 41  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`File:          file,`                 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`File:          file,`                |
| 42  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`Operation:     jobType,`              | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`Operation:     jobType,`             |
| 43  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`JobNumber:     jobNumber,`            | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`JobNumber:     jobNumber,`           |
| 44  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`NumOtherPhase: numOtherPhase,`        | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`NumOtherPhase: numOtherPhase,`       |
| 45  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`}`                                                            | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`}`                                                           |
| 46  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`var reply DoJobReply`                                         | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`var reply DoJobReply`                                        |
| 47  |                                                                                                                 |                                                                                                                |
| 48  | `//go func() {`                                                                                                | `// Call the worker to do the job`                                                                            |
| 49  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`call(worker, "Worker.DoJob", &args, &reply)`                  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`call(worker, "Worker.DoJob", &args, &reply)`                 |
| 50  |                                                                                                                 |                                                                                                                |
| 51  | `//jobDone <- true`                                                                                            |                                                                                                                |
| 52  |                                                                                                                 |                                                                                                                |
| 53  | `}`                                                                                                            | `}`                                                                                                            |
| 54  |                                                                                                                 |                                                                                                                |
| 55  | `// for i := 0; i < mr.nMap; i++ {`                                                                            | `// for i := 0; i < mr.nMap; i++ {`                                                                           |
| 56  |                                                                                                                 |                                                                                                                |
| 57  | `//}`                                                                                                          | `//}`                                                                                                          |
| 58  |                                                                                                                 |                                                                                                                |
| 59  | `// fmt.Println("Map phase done")`                                                                             | `// fmt.Println("Map phase done")`                                                                            |
| 60  |                                                                                                                 |                                                                                                                |
| 61  | `// for i := 0; i < mr.nReduce; i++ {`                                                                         | `// for i := 0; i < mr.nReduce; i++ {`                                                                        |
| 62  |                                                                                                                 |                                                                                                                |
| 63  | `//}`                                                                                                          | `//}`                                                                                                          |
| 64  |                                                                                                                 |                                                                                                                |
| 65  | `// fmt.Println("Reduce phase done")`                                                                          | `// fmt.Println("Reduce phase done")`                                                                         |
| 66  |                                                                                                                 |                                                                                                                |
